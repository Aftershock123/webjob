
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="chrome">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>หน้าหลัก</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <%- include('navbar') %>
   <div class="container" style="justify-content:center ; display: flex; align-items: center; height:50vh;background-color: #F1F1F1;">
      <div class="container" style="align-items: center;background-color: #F1F1F1;">
        <h1><b style="color: black;">ค้นพบโอกาสงานในฝันของคุณที่นี่</b></h1>
        <p class="mt-4">
          ค้นพบงานในทุกสาขาอาชีพและทุกระดับของประสบการณ์
          พบกับงานใหม่ๆ <br />
          ที่อัพเดทตลอดเวลา
          ใช้ฟิลเตอร์ค้นหางานที่เหมาะกับคุณได้ง่ายๆ
        </p>
      </div>
      <img src="image/FINDJOB-Photoroom.png-Photoroom.png" width="35%" alt="Description of the image">
    </div>
    <div class="container-fluid background"
      style="justify-content:center ; display: flex; align-items: center; height:40vh;">
      <div class="container card-container" style="background-color: transparent;">
        <div class="card-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-person-workspace" viewBox="0 0 16 16">
            <path d="M4 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-5.95a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
            <path d="M2 1a2 2 0 0 0-2 2v9.5A1.5 1.5 0 0 0 1.5 14h.653a5.4 5.4 0 0 1 1.066-2H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v9h-2.219c.554.654.89 1.373 1.066 2h.653a1.5 1.5 0 0 0 1.5-1.5V3a2 2 0 0 0-2-2z"/>
          </svg>
          <p class="mt-2">งานทั้งหมด</p>
          <h1><b><%= joball.length %></b></h1>
        </div>
        <div class="card-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-person-workspace" viewBox="0 0 16 16">
            <path d="M4 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-5.95a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
            <path d="M2 1a2 2 0 0 0-2 2v9.5A1.5 1.5 0 0 0 1.5 14h.653a5.4 5.4 0 0 1 1.066-2H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v9h-2.219c.554.654.89 1.373 1.066 2h.653a1.5 1.5 0 0 0 1.5-1.5V3a2 2 0 0 0-2-2z"/>
          </svg>
          <p class="mt-2">งานใหม่</p>
          <h1><b><%= jobindex.length %></b></h1>
        </div>
        <div class="card-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-buildings-fill" viewBox="0 0 16 16">
            <path d="M15 .5a.5.5 0 0 0-.724-.447l-8 4A.5.5 0 0 0 6 4.5v3.14L.342 9.526A.5.5 0 0 0 0 10v5.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V14h1v1.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5zM2 11h1v1H2zm2 0h1v1H4zm-1 2v1H2v-1zm1 0h1v1H4zm9-10v1h-1V3zM8 5h1v1H8zm1 2v1H8V7zM8 9h1v1H8zm2 0h1v1h-1zm-1 2v1H8v-1zm1 0h1v1h-1zm3-2v1h-1V9zm-1 2h1v1h-1zm-2-4h1v1h-1zm3 0v1h-1V7zm-2-2v1h-1V5zm1 0h1v1h-1z"/>
          </svg>
          <p class="mt-2">บริษัท</p>
          <h1><b><%= companyindex.length %></b></h1>
        </div>
        <div class="card-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
          </svg>
          <p class="mt-2">ผู้ใช้งาน</p>
          <h1><b><%= userindex.length %></b></h1>
        </div>
      </div>
    </div>
    <div class="container mt-5" style="background-color: #F1F1F1;">
      <h3><b>งานที่แนะนำ</b></h3>
      <% if(jobindex.length > 0) { %>
        <div class="container index-card-container mt-5" style="background-color: #F1F1F1;">
          <% jobindex.forEach((jobindex)=> {%>
            <% if( jobindex !=undefined) { %>
              <div class="index-card-item">
                <a style="color: black;" href="/company/jobbyidjob/<%= jobindex.idjob_company %>">
                  <img class="card-img-top" src="/image/<%= jobindex.image %>" alt="Card image cap">
                  <p class="mt-1">
                    <%= jobindex.name_company %>
                  </p>
                  <b class="mt-1" style="font-size: 18px;">
                    <%= jobindex.name_job %>
                  </b>
                  <p class="mt-1">
                    <%= jobindex.detail_work.substring(0, 20) %>
                  </p>
                  <div style="display: flex; align-items: center;">
                    <box class="index-card-text"
                      style="color: #ff0000; background-color: #FFDBDB; padding: 5px; padding-left: 15px; padding-right: 15px; border-radius: 3px;">
                      หมดเขต
                    </box>
                    <b class="ms-3" style="color: #767F8C;" id="formatted-deadline-"
                      data-deadline="<%= jobindex.deadline_offer %>">
                   </b>
                  </div>
                </a>
              </div>
            <% } %>
          <% }); %>
        </div>
      <% } else { %>
        <p>ไม่มีข้อมูล</p>
      <% } %>
    </div>
    <%- include('Footer') %>
    <script>
      function formatDateTime(dateTimeStr) {
          const date = new Date(dateTimeStr);
          const day = String(date.getDate()).padStart(2, '0');
          const month = String(date.getMonth() + 1).padStart(2, '0');
          const year = date.getFullYear();
          const hours = String(date.getHours()).padStart(2, '0');
          const minutes = String(date.getMinutes()).padStart(2, '0');

          return `${day}/${month}/${year} เวลา ${hours}:${minutes}`;
      }

      // Get all elements with a specific class or ID
      document.addEventListener('DOMContentLoaded', function () {
          const deadlineElements = document.querySelectorAll('[id^="formatted-deadline-"]');
          deadlineElements.forEach(function (el) {
              const deadlineOffer = el.getAttribute('data-deadline');
              el.textContent = formatDateTime(deadlineOffer);
          });
      });
  </script>
</body>

</html>
